import*as e from"@nikonov-alex/reactor";var t={744:e=>{var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function o(e,t){return!1!==t.clone&&t.isMergeableObject(e)?l((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function r(e,t,n){return e.concat(t).map((function(e){return o(e,n)}))}function i(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function a(e,t){try{return t in e}catch(e){return!1}}function l(e,n,s){(s=s||{}).arrayMerge=s.arrayMerge||r,s.isMergeableObject=s.isMergeableObject||t,s.cloneUnlessOtherwiseSpecified=o;var c=Array.isArray(n);return c===Array.isArray(e)?c?s.arrayMerge(e,n,s):function(e,t,n){var r={};return n.isMergeableObject(e)&&i(e).forEach((function(t){r[t]=o(e[t],n)})),i(t).forEach((function(i){(function(e,t){return a(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,i)||(a(e,i)&&n.isMergeableObject(t[i])?r[i]=function(e,t){if(!t.customMerge)return l;var n=t.customMerge(e);return"function"==typeof n?n:l}(i,n)(e[i],t[i],n):r[i]=o(t[i],n))})),r}(e,n,s):o(n,s)}l.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return l(e,n,t)}),{})};var s=l;e.exports=s}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r={};o.d(r,{_:()=>Ke,L:()=>Ze});const i=Object.keys;function a(e){return"string"==typeof e}function l(e){return"number"==typeof e}function s(e){return"object"==typeof e?null!==e:c(e)}function c(e){return"function"==typeof e}function d(e,t){if(e)for(const n of i(e))t(e[n],n)}const u={animationIterationCount:0,borderImageOutset:0,borderImageSlice:0,borderImageWidth:0,boxFlex:0,boxFlexGroup:0,boxOrdinalGroup:0,columnCount:0,columns:0,flex:0,flexGrow:0,flexPositive:0,flexShrink:0,flexNegative:0,flexOrder:0,gridArea:0,gridRow:0,gridRowEnd:0,gridRowSpan:0,gridRowStart:0,gridColumn:0,gridColumnEnd:0,gridColumnSpan:0,gridColumnStart:0,fontWeight:0,lineClamp:0,lineHeight:0,opacity:0,order:0,orphans:0,tabSize:0,widows:0,zIndex:0,zoom:0,fillOpacity:0,floodOpacity:0,stopOpacity:0,strokeDasharray:0,strokeDashoffset:0,strokeMiterlimit:0,strokeOpacity:0,strokeWidth:0},f=["Webkit","ms","Moz","O"];i(u).forEach((e=>{f.forEach((t=>{u[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(t,e)]=0}))}));const p=Symbol.for("jsx-dom:type");var m=function(e){return e.ShadowRoot="ShadowRoot",e}(m||{});const y="http://www.w3.org/2000/svg",g="http://www.w3.org/1999/xlink",b="http://www.w3.org/XML/1998/namespace";function v(e){return!("boolean"==typeof e||null==e)}function h(e){return Array.isArray(e)?e.map(h).filter(Boolean).join(" "):s(e)?Symbol.iterator in e?h(Array.from(e)):i(e).filter((t=>e[t])).join(" "):v(e)?""+e:""}const w={animate:0,circle:0,clipPath:0,defs:0,desc:0,ellipse:0,feBlend:0,feColorMatrix:0,feComponentTransfer:0,feComposite:0,feConvolveMatrix:0,feDiffuseLighting:0,feDisplacementMap:0,feDistantLight:0,feFlood:0,feFuncA:0,feFuncB:0,feFuncG:0,feFuncR:0,feGaussianBlur:0,feImage:0,feMerge:0,feMergeNode:0,feMorphology:0,feOffset:0,fePointLight:0,feSpecularLighting:0,feSpotLight:0,feTile:0,feTurbulence:0,filter:0,foreignObject:0,g:0,image:0,line:0,linearGradient:0,marker:0,mask:0,metadata:0,path:0,pattern:0,polygon:0,polyline:0,radialGradient:0,rect:0,stop:0,svg:0,switch:0,symbol:0,text:0,textPath:0,tspan:0,use:0,view:0},x=/^(a(ll|t|u)|base[FP]|c(al|lipPathU|on)|di|ed|ex|filter[RU]|g(lyphR|r)|ke|l(en|im)|ma(rker[HUW]|s)|n|pat|pr|point[^e]|re[^n]|s[puy]|st[^or]|ta|textL|vi|xC|y|z)/;function S(e,t){let n,{children:o,...r}=t;if(r.namespaceURI||0!==w[e]||(r={...r,namespaceURI:y}),a(e)){if(n=r.namespaceURI?document.createElementNS(r.namespaceURI,e):document.createElement(e),function(e,t){for(const n of i(e))L(n,e[n],t)}(r,n),k(o,n),n instanceof window.HTMLSelectElement&&null!=r.value)if(!0===r.multiple&&Array.isArray(r.value)){const e=r.value.map((e=>String(e)));n.querySelectorAll("option").forEach((t=>t.selected=e.includes(t.value)))}else n.value=r.value;A(r.ref,n)}else{if(!c(e))throw new TypeError(`Invalid JSX element type: ${e}`);s(e.defaultProps)&&(r={...e.defaultProps,...r}),n=function(e){const{prototype:t}=e;return!(!t||!t.isReactComponent)}(e)?function(e,t,n){const o=new e(t={...t,children:n}),r=o.render();return"ref"in t&&A(t.ref,o),r}(e,r,o):e({...r,children:o})}return n}function A(e,t){var n;s(n=e)&&"current"in n?e.current=t:c(e)&&e(t)}function k(e,t){if(s(r=e)&&"number"==typeof r.length&&"number"!=typeof r.nodeType)!function(e,t){for(const n of[...e])k(n,t)}(e,t);else if(a(e)||l(e))E(document.createTextNode(e),t);else if(null===e)E(document.createComment(""),t);else if((o=e)&&"number"==typeof o.nodeType)E(e,t);else if(null!=(n=e)&&n[p]===m.ShadowRoot){const n=t.attachShadow(e.attr);k(e.children,n),A(e.ref,n)}var n,o,r}function E(e,t){t instanceof window.HTMLTemplateElement?t.content.appendChild(e):t.appendChild(e)}function O(e,t){return e.replace(/[A-Z]/g,(e=>t+e.toLowerCase()))}function M(e,t){null==t||!1===t||(Array.isArray(t)?t.forEach((t=>M(e,t))):a(t)?e.setAttribute("style",t):s(t)&&d(t,((t,n)=>{0===n.indexOf("-")?e.style.setProperty(n,t):l(t)&&0!==u[n]?e.style[n]=t+"px":e.style[n]=t})))}function L(e,t,n){switch(e){case"xlinkActuate":case"xlinkArcrole":case"xlinkHref":case"xlinkRole":case"xlinkShow":case"xlinkTitle":case"xlinkType":return void j(n,g,O(e,":"),t);case"xmlnsXlink":return void T(n,O(e,":"),t);case"xmlBase":case"xmlLang":case"xmlSpace":return void j(n,b,O(e,":"),t)}switch(e){case"htmlFor":return void T(n,"for",t);case"dataset":return void d(t,((e,t)=>{null!=e&&(n.dataset[t]=e)}));case"innerHTML":case"innerText":case"textContent":return void(v(t)&&(n[e]=t));case"dangerouslySetInnerHTML":return void(s(t)&&(n.innerHTML=t.__html));case"value":if(null==t||n instanceof window.HTMLSelectElement)return;if(n instanceof window.HTMLTextAreaElement)return void(n.value=t);break;case"spellCheck":return void(n.spellcheck=t);case"class":case"className":return void(c(t)?t(n):T(n,"class",h(t)));case"ref":case"namespaceURI":return;case"style":return void M(n,t);case"on":case"onCapture":return void d(t,((t,o)=>{n.addEventListener(o,t,"onCapture"===e)}))}if(c(t)){if("o"===e[0]&&"n"===e[1]){let o=e.toLowerCase();const r=o.endsWith("capture");if("ondoubleclick"===o?o="ondblclick":r&&"ondoubleclickcapture"===o&&(o="ondblclickcapture"),r||null!==n[o])if(r)n.addEventListener(o.substring(2,o.length-7),t,!0);else{let r;r=o in window?o.substring(2):o[2]+e.slice(3),n.addEventListener(r,t)}else n[o]=t}}else s(t)?n[e]=t:!0===t?T(n,e,""):!1!==t&&null!=t&&(n instanceof SVGElement&&!x.test(e)?T(n,O(e,"-"),t):T(n,e,t))}function T(e,t,n){e.setAttribute(t,n)}function j(e,t,n,o){e.setAttributeNS(t,n,o)}const C=(D={make:()=>e.make},F={},o.d(F,D),F),I=e=>"function"==typeof e.label?e.label(e.value):e.label,P=e=>({left:e.left.slice(0,-1),value:e.left[e.left.length-1],right:[e.value].concat(e.right)}),R=(e,t)=>0===e.left.length?t:e.left[e.left.length-1].disabled?R(P(e),t):P(e),H=e=>R(e,e),N=e=>({left:e.left.concat(e.value),value:e.right[0],right:e.right.slice(1)}),U=(e,t)=>0===e.right.length?t:e.right[0].disabled?U(N(e),t):N(e),_=e=>U(e,e);var D,F,z={d:(e,t)=>{for(var n in t)z.o(t,n)&&!z.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},G={};z.d(G,{qM:()=>K,E1:()=>$,_u:()=>W,_w:()=>q,Er:()=>B});var W={};z.r(W),z.d(W,{EMPTY_LIST:()=>V,concat:()=>te,cons:()=>X,count:()=>ie,filter:()=>ee,find:()=>re,fold:()=>Z,isEmpty:()=>J,list:()=>Y,map:()=>Q,prepend:()=>ne,reverse:()=>oe});var q={};z.r(q),z.d(q,{apply:()=>ae,ifNotError:()=>se,ifNotFalse:()=>le});var B={};z.r(B);var $={};z.r($),z.d($,{array:()=>ce});var K={};z.r(K),z.d(K,{local:()=>de});const V=null,X=(e,t)=>({first:e,rest:t}),J=e=>V===e,Y=(...e)=>e.reduce(((e,t)=>X(t,e)),V),Z=(e,t,n)=>J(e)?n:t(e.first,Z(e.rest,t,n)),Q=(e,t)=>Z(e,((e,n)=>X(t(e),n)),V),ee=(e,t)=>Z(e,((e,n)=>t(e)?X(e,n):n),V),te=(e,t)=>Z(e,X,t),ne=(e,t)=>te(e,Y(t)),oe=e=>Z(e,((e,t)=>ne(t,e)),V),re=(e,t)=>!J(e)&&(t(e.first)?e.first:re(e.rest,t)),ie=e=>J(e)?0:ie(e.rest)+1,ae=e=>(t,n)=>e(t)?t:n(t),le=ae((e=>!1===e)),se=ae((e=>e instanceof Error)),ce=(e,t)=>Array.apply(null,Array(e)).map(((e,n)=>t(n))),de=(e,t)=>t(e);var ue=G.qM;const{local:fe}=ue,pe={position:"absolute",top:"100%",left:0,width:"100%",listStyleType:"none",paddingLeft:0,margin:0,overflow:"hidden",boxSizing:"border-box",zIndex:1},me={display:"inline-block",lineHeight:"initial",verticalAlign:"middle",width:"100%",boxSizing:"border-box"},ye=e=>"selection"in e&&"object"==typeof e.selection,ge=e=>({...e,selection:void 0}),be=(e,t)=>({...e,selection:t}),ve=e=>({...e,options:e.selection}),he=e=>e.options.value,we=e=>S("li",{className:"dropdown-option"+(e.option.class?` ${e.option.class}`:""),style:{backgroundColor:e.selected?"blue":void 0,color:e.option.disabled?"lightgrey":void 0},"data-selected":e.selected,"data-disabled":e.option.disabled,children:S("span",{className:"dropdown-option-label",style:me,dangerouslySetInnerHTML:{__html:I(e.option)}})}),xe=e=>ye(e)?S("ul",{className:"dropdown-options",style:pe,children:[e.selection.left.map((e=>S(we,{option:e}))),S(we,{option:e.selection.value,selected:!0}),e.selection.right.map((e=>S(we,{option:e})))]}):S("span",{}),Se=e=>"disabled"in e.dataset,Ae=e=>e instanceof HTMLElement?e.closest(".dropdown-option"):null,ke=e=>Array.prototype.indexOf.call(e.parentElement.children,e);var Ee=o(744),Oe=o.n(Ee);const{local:Me}=ue,Le={position:"relative",textAlign:"left",cursor:"pointer"},Te={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%",boxSizing:"border-box"},je=[{},""],Ce=e=>"focused"in e&&!0===e.focused,Ie=e=>"opened"in e&&"object"==typeof e.opened,Pe=(e,t)=>Ie(e)&&e.opened===t?e:{...e,opened:t},Re=(e,t)=>e.options===t?e:{...e,options:t},He=e=>Ce(e),Ne=e=>He(e)&&Ie(e),Ue=e=>{return t=e,{...t,focused:!0};var t},_e=e=>Pe(e,(e=>{return t={options:e},{...t,selection:t.options};var t})(e.options)),De=e=>{return t=Re(e,(e=>e.options)(e.opened)),{...t,opened:void 0};var t},Fe=e=>ye(e.opened)?e:De(e),ze=e=>S("div",{className:"dropdown-value",style:Te,children:I(Ne(e)?he(e.opened):e.options.value)}),Ge=(e,t)=>He(e)?e:Ue(e),We=(e,t)=>He(e)?(e=>{return t=e,{...t,focused:void 0};var t})(Ne(e)?De(e):e):e,qe=(e,t)=>Ce(e)?Ie(e)?Fe(Pe(e,((e,t)=>ye(e)?fe(Ae(t.target),(t=>!t||Se(t)?e:ge(ve(e)))):e)(e.opened,t))):_e(e):_e(Ue(e)),Be=(e,t)=>Ne(e)&&(e=>e.target instanceof HTMLElement&&e.target.matches(".dropdown-options, .dropdown-options *"))(t)?Pe(e,((e,t)=>ye(e)?fe(Ae(t.target),(t=>t instanceof HTMLElement&&ke(t)!==(e=>e.selection.left.length)(e)&&!Se(t)?be(e,((e,t)=>fe(e.selection.left.concat(e.selection.value).concat(e.selection.right),(e=>fe(ke(t),(t=>({left:e.slice(0,t),value:e[t],right:e.slice(t+1)}))))))(e,t)):e)):e)(e.opened,t)):e,$e=(e,t)=>He(e)?Ie(e)?Fe(Pe(e,((e,t)=>ye(e)?t.altKey?["ArrowDown","ArrowUp"].includes(t.code)?ge(e):e:["Escape","Enter"].includes(t.code)?ge("Enter"===t.code?ve(e):e):"ArrowDown"===t.code?ve(be(e,_(e.selection))):"ArrowUp"===t.code?ve(be(e,H(e.selection))):e:e)(e.opened,t))):((e,t)=>t.ctrlKey?e:t.altKey?["ArrowDown","ArrowUp"].includes(t.code)?_e(e):e:["Enter","Space"].includes(t.code)?_e(e):"ArrowDown"===t.code?Re(e,_(e.options)):"ArrowLeft"===t.code||"ArrowUp"===t.code?Re(e,H(e.options)):"ArrowRight"===t.code?Re(e,_(e.options)):e)(e,t):e,Ke=e=>e.options.value.value,Ve=(e,t)=>!Ne(t)&&Ke(e)!==Ke(t),Xe=e=>new CustomEvent("change",{detail:Ke(e),bubbles:!0}),Je=e=>Ke(e)?je:[{valueMissing:!0},"This field is required"];class Ye extends HTMLElement{static formAssociated=!0;internals=this.attachInternals()}function Ze(e){const t=t=>S("div",{className:"dropdown"+(Ne(t)?" opened":"")+(e.className?` ${e.className}`:""),tabIndex:0,style:Le,children:[S(ze,{...t}),Ne(t)?S(xe,{...t.opened}):S("span",{})]}),n=t=>e.required?Je(t):je,o=e=>Me(Ke(e),(e=>null===e?"":"string"==typeof e?e:JSON.stringify(e)));return Me(S("nikonov-dropdown",{tabIndex:-1}),(r=>C.make(Oe()({initialState:{options:e.options},render:t,events:{focus:Ge,blur:We,click:qe,mouseover:Be,keydown:$e},emit:[{when:Ve,emit:Xe}],id:e.id,validation:{internals:r.internals,validate:n,formValue:o},container:r},e))))}customElements.define("nikonov-dropdown",Ye);var Qe=r._,et=r.L;export{Qe as getValue,et as make};